(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[331],{6441:function(e,t,i){Promise.resolve().then(i.bind(i,2223))},8444:function(e,t,i){"use strict";i.d(t,{Z:function(){return r}});var s=i(7437),a=i(7138);function r(e){let{item:t,clickFunction:i,link:r}=e;return r?(0,s.jsx)(a.default,{className:"category-item",href:"/item/".concat(t._id),children:(0,s.jsxs)("div",{className:"w-48",children:[(0,s.jsx)("img",{className:"category-item-image",src:t.thumbnail}),(0,s.jsxs)("div",{className:"category-item-text",children:[(0,s.jsx)("h3",{className:"category-item-title",children:t.title}),(0,s.jsxs)("div",{className:"category-item-info",children:[t.quantity&&(0,s.jsxs)("p",{children:["qty: ",t.quantity]}),t.price&&(0,s.jsxs)("p",{className:"category-item-price",children:["$",t.price]})]})]})]})}):(0,s.jsxs)("div",{onClick:()=>{i(t._id)},className:"category-item",children:[(0,s.jsx)("img",{className:"category-item-image",src:t.thumbnail}),(0,s.jsxs)("div",{className:"category-item-text",children:[(0,s.jsx)("h3",{className:"category-item-title",children:t.title}),(0,s.jsxs)("div",{className:"category-item-info",children:[t.quantity&&(0,s.jsxs)("p",{children:["qty: ",t.quantity]}),t.price&&(0,s.jsxs)("p",{className:"category-item-price",children:["$",t.price]})]})]})]})}},393:function(e,t,i){"use strict";i.d(t,{Z:function(){return c}});var s=i(7437),a=i(2265),r=i(3910),n=i(7138),l=i(8472);function c(e){let{category:t}=e,[i,c]=(0,a.useState)([]),[d,o]=(0,a.useState)(""),m=async function(){try{await l.Z.delete("https://board-backend-b9tn.onrender.com/categories/category/".concat(t._id))}catch(e){500===e.response.status&&o(e.response.data)}};return(0,a.useEffect)(()=>{(async function(){try{let e=await l.Z.post("https://board-backend-b9tn.onrender.com/games/list",{items:t.items});c(e.data.data)}catch(e){500===e.response.status&&o(e.response.data)}})()},[t.items]),(0,s.jsxs)("div",{className:"admin-category-item",children:[d&&(0,s.jsx)("div",{className:"admin-error",children:d}),(0,s.jsx)("h2",{className:"admin-category-item-title",children:t.title}),(0,s.jsx)("p",{className:"admin-category-item-subtitle",children:t.description}),(0,s.jsx)(n.default,{href:"/admin/categories/edit/".concat(t._id),children:(0,s.jsx)("button",{className:"admin-button",children:"Edit"})}),(0,s.jsx)("button",{className:"admin-button",onClick:()=>{m()},children:"Delete"}),(0,s.jsx)("h2",{className:"admin-category-item-title font-bold mt-3",children:"Games"}),(0,s.jsx)("div",{children:i.map(e=>(0,s.jsx)(r.Z,{game:e,showButtons:!1,clickFunction:()=>{}},e._id))})]})}},2223:function(e,t,i){"use strict";i.d(t,{default:function(){return o}});var s=i(7437),a=i(2265),r=i(842),n=i(393),l=i(8472),c=i(4999);function d(e){let{categoryData:t,categoryError:i}=e,[r,d]=(0,a.useState)([]),[o,m]=(0,a.useState)("");return(0,a.useEffect)(()=>{let e=(0,c.ZP)("https://board-backend-b9tn.onrender.com");return e.on("DELETE_CATEGORY",async e=>{try{let e=await l.Z.get("https://board-backend-b9tn.onrender.com/categories/");d(e.data.data)}catch(e){if(l.Z.isAxiosError(e)){var t;(null===(t=e.response)||void 0===t?void 0:t.status)===500&&m(e.response.data)}}}),()=>{e.off("disconnect"),e.disconnect()}},[]),(0,a.useEffect)(()=>{d(t),m(i)},[t,i]),(0,s.jsxs)("div",{children:[o&&(0,s.jsx)("div",{className:"admin-error",children:o}),r.map(e=>(0,s.jsx)(n.Z,{category:e},e.id))]})}function o(e){let{categoryData:t,categoryError:i}=e,[n,c]=(0,a.useState)(!1),[o,m]=(0,a.useState)(),u=async function(e){try{await l.Z.post("https://board-backend-b9tn.onrender.com/categories/create",{params:{...e}}),window.location.reload()}catch(e){500===e.response.status&&m(e.response.data)}};return(0,s.jsxs)("main",{className:"admin-page",children:[(0,s.jsx)("h1",{className:"admin-title",children:"Categories"}),o&&(0,s.jsx)("div",{className:"admin-error",children:o}),(0,s.jsx)("button",{className:"admin-button mt-3",onClick:()=>{c(e=>!e)},children:"New Category"}),n&&(0,s.jsx)(r.Z,{categoryId:"",action:"Add",submitAction:e=>{u(e)}}),(0,s.jsx)(d,{categoryData:t,categoryError:i})]})}},842:function(e,t,i){"use strict";i.d(t,{Z:function(){return m}});var s=i(7437),a=i(9343),r=i(2265),n=i(8444);function l(e){let{games:t,selectedGames:i,handleSelectedGames:a}=e,[l,c]=(0,r.useState)(""),[d,o]=(0,r.useState)([]);(0,r.useEffect)(()=>{o(t.filter(e=>!i.includes(e._id)&&(""===l||e.title.includes(l))).map(e=>(0,s.jsx)(n.Z,{link:!1,item:e,clickFunction:e=>{a(e)}},e._id)))},[l,t,a,i]);let m=e=>{c(e.target.value)};return(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"admin-category-edit-form-title",children:"Selected Items"}),(0,s.jsxs)("div",{className:"mt-3 flex overflow-x-auto scroll-smooth",children:[0===i.length&&(0,s.jsx)("div",{className:"empty-selection",children:(0,s.jsx)("p",{children:"Looks like no games are selected"})}),0!==i.length&&t.filter(e=>i.includes(e._id)).map(e=>(0,s.jsx)(n.Z,{link:!1,item:e,clickFunction:e=>{a(e)}},e._id))]}),(0,s.jsx)("h2",{className:"admin-category-edit-form-title",children:"List of Games"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("label",{className:"search-title",children:"Search"}),(0,s.jsx)("input",{onChange:e=>{m(e)},className:"search-bar",type:"text"})]}),(0,s.jsxs)("div",{className:"category-form-games mt-3 flex overflow-x-auto scroll-smooth scroll-pb-8 snap-x",children:[0!==d.length&&d,0===d.length&&(0,s.jsx)("div",{className:"empty-selection",children:(0,s.jsx)("p",{children:"Looks like no games match"})})]})]})}var c=i(8983),d=i(682),o=i(8472);function m(e){let{submitAction:t,action:i,categoryId:n}=e,[m,u]=(0,r.useState)([]),[f,h]=(0,r.useState)(d.q),[x,p]=(0,r.useState)([]),[y,j]=(0,r.useState)("");(0,r.useEffect)(()=>{async function e(){try{let e=await o.Z.get("https://board-backend-b9tn.onrender.com/categories/category/".concat(n));h(e.data.data)}catch(t){if(o.Z.isAxiosError(t)){var e;(null===(e=t.response)||void 0===e?void 0:e.status)===500&&j(t.response.data)}}}"Edit"===i&&e()},[t,i,n]),(0,r.useEffect)(()=>{(async function(){try{let e=await o.Z.get("https://board-backend-b9tn.onrender.com/games/");u(e.data.data)}catch(t){if(o.Z.isAxiosError(t)){var e;(null===(e=t.response)||void 0===e?void 0:e.status)===500&&j(t.response.data)}}})()},[]);let{register:b,handleSubmit:g,watch:N,reset:v,formState:{errors:Z}}=(0,a.cI)(),k=(0,r.useCallback)(async e=>{v(e)},[v]);return(0,r.useEffect)(()=>{k(f),p(f.items)},[f,k]),(0,s.jsxs)("div",{className:"admin-category-edit-form",children:[y&&(0,s.jsx)("div",{className:"admin-error",children:y}),!y&&(0,s.jsxs)("form",{className:"flex flex-col",onSubmit:g(e=>t({...e,_id:"new",items:x})),children:[(0,s.jsxs)("div",{className:"flex mb-3 justify-between items-center",children:[(0,s.jsxs)("h1",{className:"admin-category-edit-form-title",children:[" ",i," Category Form"]}),(0,s.jsx)("input",{type:"submit",className:"admin-button"})]}),(0,s.jsx)(c.Z,{type:"input",defaultValue:f.title,label:"Category Name",fieldName:"title",errors:Z.title,register:b}),(0,s.jsx)(c.Z,{type:"input",defaultValue:f.description,label:"Category Description",fieldName:"description",errors:Z.description,register:b}),(0,s.jsx)(l,{games:m,selectedGames:x,handleSelectedGames:e=>{if(x.includes(e)){let t=x.indexOf(e);p([...x.slice(0,t),...x.slice(t+1)])}else p([...x,e])}})]})]})}},8983:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});var s=i(7437);function a(e){let t,{type:i,defaultValue:a,label:r,fieldName:n,errors:l,register:c}=e;return t="textarea"===i?(0,s.jsx)("textarea",{className:"admin-form-field border-black border-b",defaultValue:a,...c(n,{required:!0})}):(0,s.jsx)("input",{className:"admin-form-field border-black border-b",defaultValue:a,...c(n,{required:!0})}),(0,s.jsxs)("div",{className:"flex flex-col mb-3",children:[(0,s.jsx)("label",{className:"admin-form-field-title",children:r}),t,l&&(0,s.jsx)("span",{children:"This field is required"})]})}},5696:function(e,t,i){"use strict";i.d(t,{Z:function(){return l}});var s=i(7437),a=i(9343),r=i(2265),n=i(8983);function l(e){let{action:t,game:i,submitAction:l}=e,{register:c,handleSubmit:d,watch:o,reset:m,formState:{errors:u}}=(0,a.cI)(),f=(0,r.useCallback)(async e=>{m(e)},[m]);return(0,r.useEffect)(()=>{f(i)},[i,f]),(0,s.jsx)("div",{className:"max-w-full admin-item-edit-form",children:(0,s.jsxs)("form",{className:"flex flex-col",onSubmit:d(e=>l(e)),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center pb-5",children:[(0,s.jsxs)("h1",{className:"admin-item-edit-form-title",children:[" ",t," Item"]}),(0,s.jsx)("input",{className:"admin-button",type:"submit"})]}),(0,s.jsx)(n.Z,{type:"input",defaultValue:i.title,label:"Game Title",fieldName:"title",errors:u.title,register:c}),(0,s.jsx)(n.Z,{type:"textarea",defaultValue:i.description,label:"Description",fieldName:"description",errors:u.description,register:c}),(0,s.jsx)(n.Z,{type:"input",defaultValue:i.image,label:"Image",fieldName:"image",errors:u.image,register:c}),(0,s.jsx)(n.Z,{type:"input",defaultValue:i.thumbnail,label:"Thumbnail",fieldName:"thumbnail",errors:u.thumbnail,register:c}),(0,s.jsx)(n.Z,{type:"input",defaultValue:i.minPlayers,label:"Minimum Players",fieldName:"minPlayers",errors:u.minPlayers,register:c}),(0,s.jsx)(n.Z,{type:"input",defaultValue:i.maxPlayers,label:"Maximum Players",fieldName:"maxPlayers",errors:u.maxPlayers,register:c}),(0,s.jsx)(n.Z,{type:"input",defaultValue:i.playingTime,label:"Playing Time",fieldName:"playingTime",errors:u.playingTime,register:c}),(0,s.jsx)(n.Z,{type:"input",defaultValue:i.yearPublished,label:"Year Published",fieldName:"yearPublished",errors:u.yearPublished,register:c}),(0,s.jsx)(n.Z,{type:"input",defaultValue:i.price,label:"Price",fieldName:"price",errors:u.price,register:c}),(0,s.jsx)(n.Z,{type:"input",defaultValue:i.quantity,label:"Quantity",fieldName:"quantity",errors:u.quantity,register:c})]})})}},3910:function(e,t,i){"use strict";i.d(t,{Z:function(){return l}});var s=i(7437),a=i(2265),r=i(5696),n=i(8472);function l(e){let{game:t,clickFunction:i,showButtons:l}=e,[c,d]=(0,a.useState)(!1),[o,m]=(0,a.useState)(""),u=async function(){try{await n.Z.delete("https://board-backend-b9tn.onrender.com/games/game/delete/".concat(t._id))}catch(e){500===e.response.status&&m(e.response.data)}};return(0,s.jsxs)("div",{children:[o&&(0,s.jsx)("div",{className:"admin-error",children:o}),(0,s.jsxs)("div",{className:"admin-list-item hover:drop-shadow-lg",children:[(0,s.jsx)("div",{className:"w-24 h-24 overflow-hidden",children:(0,s.jsx)("img",{className:"admin-list-item-image",src:t.thumbnail})}),(0,s.jsxs)("div",{className:"flex flex-col p-2 grow justify-between",children:[(0,s.jsx)("div",{children:(0,s.jsx)("h3",{className:"admin-list-item-title",children:t.title})}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("div",{className:"flex items-end",children:(0,s.jsxs)("p",{className:"admin-list-item-quantity",children:["qty:",t.quantity," ",(0,s.jsxs)("span",{className:"admin-list-item-price",children:["$",t.price]})]})}),l&&(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{className:"admin-button",onClick:()=>{d(!c)},children:"Edit"}),(0,s.jsx)("button",{className:"admin-button",onClick:()=>{u()},children:"Del"})]})]})]})]}),c&&(0,s.jsx)("div",{className:"admin-list-edit-item",children:(0,s.jsx)(r.Z,{action:"Edit",game:t,submitAction:e=>{i(t._id,e)}})})]})}},682:function(e,t,i){"use strict";i.d(t,{q:function(){return s},u:function(){return a}});let s={_id:"0",title:"Default Category",description:"This is a default category",items:[]},a={_id:"0",title:"Default Game",description:"This is a default game",image:"image url",thumbnail:"image url",minPlayers:0,maxPlayers:4,playingTime:120,yearPublished:2024,price:0,quantity:0}},7138:function(e,t,i){"use strict";i.d(t,{default:function(){return a.a}});var s=i(231),a=i.n(s)}},function(e){e.O(0,[231,300,472,343,999,971,23,744],function(){return e(e.s=6441)}),_N_E=e.O()}]);