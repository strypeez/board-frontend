(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{2672:function(e,t,s){Promise.resolve().then(s.bind(s,3913)),Promise.resolve().then(s.bind(s,9034)),Promise.resolve().then(s.bind(s,5082))},393:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(7437),i=s(2265),r=s(3910),n=s(7138),d=s(8472);function l(e){let{category:t}=e,[s,l]=(0,i.useState)([]),[c,o]=(0,i.useState)(""),m=async function(){try{await d.Z.delete("https://board-backend-b9tn.onrender.com/categories/category/".concat(t._id))}catch(e){500===e.response.status&&o(e.response.data)}};return(0,i.useEffect)(()=>{(async function(){try{let e=await d.Z.post("https://board-backend-b9tn.onrender.com/games/list",{items:t.items});l(e.data.data)}catch(e){500===e.response.status&&o(e.response.data)}})()},[t.items]),(0,a.jsxs)("div",{className:"admin-category-item",children:[c&&(0,a.jsx)("div",{className:"admin-error",children:c}),(0,a.jsx)("h2",{className:"admin-category-item-title",children:t.title}),(0,a.jsx)("p",{className:"admin-category-item-subtitle",children:t.description}),(0,a.jsx)(n.default,{href:"/admin/categories/edit/".concat(t._id),children:(0,a.jsx)("button",{className:"admin-button",children:"Edit"})}),(0,a.jsx)("button",{className:"admin-button",onClick:()=>{m()},children:"Delete"}),(0,a.jsx)("h2",{className:"admin-category-item-title font-bold mt-3",children:"Games"}),(0,a.jsx)("div",{children:s.map(e=>(0,a.jsx)(r.Z,{game:e,showButtons:!1,clickFunction:()=>{}},e._id))})]})}},3913:function(e,t,s){"use strict";s.d(t,{default:function(){return d}});var a=s(7437),i=s(2265),r=s(393),n=s(7138);function d(e){let{catDashData:t,catError:s}=e,[d,l]=(0,i.useState)([]),[c,o]=(0,i.useState)("");return(0,i.useEffect)(()=>{l(t),o(s)},[t,s]),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"admin-dashboard-header",children:[(0,a.jsx)("h2",{children:"Categories"}),(0,a.jsx)(n.default,{href:"/admin/categories",children:(0,a.jsx)("p",{children:"See More"})})]}),(0,a.jsxs)("div",{className:"admin-dashboard-body",children:[c&&(0,a.jsx)("div",{className:"admin-error",children:c},"error"),d.map(e=>(0,a.jsx)(r.Z,{category:e},e.id)).slice(0,3)]})]})}},8983:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(7437);function i(e){let t,{type:s,defaultValue:i,label:r,fieldName:n,errors:d,register:l}=e;return t="textarea"===s?(0,a.jsx)("textarea",{className:"admin-form-field border-black border-b",defaultValue:i,...l(n,{required:!0})}):(0,a.jsx)("input",{className:"admin-form-field border-black border-b",defaultValue:i,...l(n,{required:!0})}),(0,a.jsxs)("div",{className:"flex flex-col mb-3",children:[(0,a.jsx)("label",{className:"admin-form-field-title",children:r}),t,d&&(0,a.jsx)("span",{children:"This field is required"})]})}},9034:function(e,t,s){"use strict";s.d(t,{default:function(){return l}});var a=s(7437),i=s(2265),r=s(8472),n=s(3910),d=s(7138);function l(e){let{gameDashData:t,gameError:s}=e,[l,c]=(0,i.useState)([]),[o,m]=(0,i.useState)("");(0,i.useEffect)(()=>{c(t),m(s)},[t,s]);let u=async function(e,t){try{await r.Z.put("https://board-backend-b9tn.onrender.com/games/game/update/".concat(e),{params:{...t}}),window.location.reload()}catch(e){if(r.Z.isAxiosError(e)){var s;(null===(s=e.response)||void 0===s?void 0:s.status)===500&&m(e.response.data)}}};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"admin-dashboard-header",children:[o&&(0,a.jsx)("div",{className:"admin-error",children:o}),(0,a.jsx)("h2",{children:"Items"}),(0,a.jsx)(d.default,{href:"/admin/items",children:(0,a.jsx)("p",{children:"See More"})})]}),(0,a.jsx)("div",{className:"admin-dashboard-body",children:l.map(e=>(0,a.jsx)(n.Z,{showButtons:!0,game:e,clickFunction:(e,t)=>{u(e,t)}},e._id)).slice(0,3)})]})}},5696:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var a=s(7437),i=s(9343),r=s(2265),n=s(8983);function d(e){let{action:t,game:s,submitAction:d}=e,{register:l,handleSubmit:c,watch:o,reset:m,formState:{errors:u}}=(0,i.cI)(),h=(0,r.useCallback)(async e=>{m(e)},[m]);return(0,r.useEffect)(()=>{h(s)},[s,h]),(0,a.jsx)("div",{className:"max-w-full admin-item-edit-form",children:(0,a.jsxs)("form",{className:"flex flex-col",onSubmit:c(e=>d(e)),children:[(0,a.jsxs)("div",{className:"flex justify-between items-center pb-5",children:[(0,a.jsxs)("h1",{className:"admin-item-edit-form-title",children:[" ",t," Item"]}),(0,a.jsx)("input",{className:"admin-button",type:"submit"})]}),(0,a.jsx)(n.Z,{type:"input",defaultValue:s.title,label:"Game Title",fieldName:"title",errors:u.title,register:l}),(0,a.jsx)(n.Z,{type:"textarea",defaultValue:s.description,label:"Description",fieldName:"description",errors:u.description,register:l}),(0,a.jsx)(n.Z,{type:"input",defaultValue:s.image,label:"Image",fieldName:"image",errors:u.image,register:l}),(0,a.jsx)(n.Z,{type:"input",defaultValue:s.thumbnail,label:"Thumbnail",fieldName:"thumbnail",errors:u.thumbnail,register:l}),(0,a.jsx)(n.Z,{type:"input",defaultValue:s.minPlayers,label:"Minimum Players",fieldName:"minPlayers",errors:u.minPlayers,register:l}),(0,a.jsx)(n.Z,{type:"input",defaultValue:s.maxPlayers,label:"Maximum Players",fieldName:"maxPlayers",errors:u.maxPlayers,register:l}),(0,a.jsx)(n.Z,{type:"input",defaultValue:s.playingTime,label:"Playing Time",fieldName:"playingTime",errors:u.playingTime,register:l}),(0,a.jsx)(n.Z,{type:"input",defaultValue:s.yearPublished,label:"Year Published",fieldName:"yearPublished",errors:u.yearPublished,register:l}),(0,a.jsx)(n.Z,{type:"input",defaultValue:s.price,label:"Price",fieldName:"price",errors:u.price,register:l}),(0,a.jsx)(n.Z,{type:"input",defaultValue:s.quantity,label:"Quantity",fieldName:"quantity",errors:u.quantity,register:l})]})})}},5082:function(e,t,s){"use strict";s.d(t,{default:function(){return d}});var a=s(7437),i=s(2265),r=s(5094),n=s(7138);function d(e){let{orderDashData:t,orderError:s,orderGamesData:d}=e,[l,c]=(0,i.useState)([]),[o,m]=(0,i.useState)({}),[u,h]=(0,i.useState)("");return(0,i.useEffect)(()=>{c(t),h(s),m(d)},[t,s,d]),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"admin-dashboard-header",children:[(0,a.jsx)("h2",{children:"Orders"}),(0,a.jsx)(n.default,{href:"/admin/orders",children:(0,a.jsx)("p",{children:"See More"})})]}),(0,a.jsxs)("div",{className:"admin-dashboard-body",children:[u&&(0,a.jsx)("div",{className:"admin-error",children:u}),l.map(e=>(0,a.jsx)(r.Z,{games:o,order:e},e._id)).slice(0,3)]})]})}},3910:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var a=s(7437),i=s(2265),r=s(5696),n=s(8472);function d(e){let{game:t,clickFunction:s,showButtons:d}=e,[l,c]=(0,i.useState)(!1),[o,m]=(0,i.useState)(""),u=async function(){try{await n.Z.delete("https://board-backend-b9tn.onrender.com/games/game/delete/".concat(t._id))}catch(e){500===e.response.status&&m(e.response.data)}};return(0,a.jsxs)("div",{children:[o&&(0,a.jsx)("div",{className:"admin-error",children:o}),(0,a.jsxs)("div",{className:"admin-list-item hover:drop-shadow-lg",children:[(0,a.jsx)("div",{className:"w-24 h-24 overflow-hidden",children:(0,a.jsx)("img",{className:"admin-list-item-image",src:t.thumbnail})}),(0,a.jsxs)("div",{className:"flex flex-col p-2 grow justify-between",children:[(0,a.jsx)("div",{children:(0,a.jsx)("h3",{className:"admin-list-item-title",children:t.title})}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsxs)("p",{className:"admin-list-item-quantity",children:["qty:",t.quantity," ",(0,a.jsxs)("span",{className:"admin-list-item-price",children:["$",t.price]})]})}),d&&(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{className:"admin-button",onClick:()=>{c(!l)},children:"Edit"}),(0,a.jsx)("button",{className:"admin-button",onClick:()=>{u()},children:"Del"})]})]})]})]}),l&&(0,a.jsx)("div",{className:"admin-list-edit-item",children:(0,a.jsx)(r.Z,{action:"Edit",game:t,submitAction:e=>{s(t._id,e)}})})]})}},5094:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var a=s(7437);function i(e){let{item:t,quantity:s}=e;return(0,a.jsxs)("div",{className:"flex mt-3",children:[(0,a.jsx)("img",{className:"w-16 h-16",src:t.thumbnail}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 grow",children:[(0,a.jsx)("h3",{className:"grow text-base-red font-bold",children:t.title}),(0,a.jsxs)("p",{className:"text-sm font-bold admin-order-quantity",children:["x",s]})]})]})}var r=s(2265),n=s(8472);function d(e){let{order:t,games:s}=e,[d,l]=(0,r.useState)(!1),[c,o]=(0,r.useState)(""),m=async function(){let e=t.cart.map(e=>({...e,oldQuantity:s[e.item].quantity}));try{await n.Z.put("https://board-backend-b9tn.onrender.com/orders/order/cancel/".concat(t._id),{cart:e,newOrder:{...t,state:"Cancelled"}})}catch(e){500===e.response.status&&o(e.response.data)}},u=async function(e){try{await n.Z.put("https://board-backend-b9tn.onrender.com/orders/order/".concat(t._id),{newOrder:e})}catch(e){500===e.response.status&&o(e.response.data)}};return(0,a.jsxs)("div",{children:[c&&(0,a.jsx)("div",{className:"admin-error",children:c}),(0,a.jsxs)("div",{className:"admin-order hover:drop-shadow-lg",children:[(0,a.jsxs)("div",{onClick:()=>{l(!d)},children:[(0,a.jsx)("div",{className:"admin-order-title",children:"Order No."}),(0,a.jsxs)("div",{className:"admin-order-number",children:[" ",t._id]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"admin-order-state",children:"Order State"}),(0,a.jsxs)("select",{className:"admin-order-state-select",disabled:"Cancelled"===t.state,onChange:e=>{"Cancelled"===e.target.value?m():u({...t,state:e.target.value})},defaultValue:t.state,children:[(0,a.jsx)("option",{value:"Preparing",children:"Preparing"}),(0,a.jsx)("option",{value:"Ready",children:"Ready"}),(0,a.jsx)("option",{value:"Cancelled",children:"Cancelled"}),(0,a.jsx)("option",{value:"Fulfilled",children:"Fulfilled"})]})]})]}),d&&(0,a.jsxs)("div",{className:"admin-order-items",children:[(0,a.jsx)("h2",{className:"admin-order-title font-bold",children:"Order Items"}),(0,a.jsx)("div",{children:t.cart.map(e=>(0,a.jsx)(i,{quantity:e.quantity,item:s[e.item]},e.item))})]})]})}},7138:function(e,t,s){"use strict";s.d(t,{default:function(){return i.a}});var a=s(231),i=s.n(a)}},function(e){e.O(0,[231,300,472,343,971,23,744],function(){return e(e.s=2672)}),_N_E=e.O()}]);