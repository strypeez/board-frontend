(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[48],{2868:function(e,t,i){Promise.resolve().then(i.bind(i,5811))},8983:function(e,t,i){"use strict";i.d(t,{Z:function(){return r}});var a=i(7437);function r(e){let t,{type:i,defaultValue:r,label:s,fieldName:l,errors:n,register:u}=e;return t="textarea"===i?(0,a.jsx)("textarea",{className:"admin-form-field border-black border-b",defaultValue:r,...u(l,{required:!0})}):(0,a.jsx)("input",{className:"admin-form-field border-black border-b",defaultValue:r,...u(l,{required:!0})}),(0,a.jsxs)("div",{className:"flex flex-col mb-3",children:[(0,a.jsx)("label",{className:"admin-form-field-title",children:s}),t,n&&(0,a.jsx)("span",{children:"This field is required"})]})}},5696:function(e,t,i){"use strict";i.d(t,{Z:function(){return n}});var a=i(7437),r=i(9343),s=i(2265),l=i(8983);function n(e){let{action:t,game:i,submitAction:n}=e,{register:u,handleSubmit:m,watch:d,reset:c,formState:{errors:o}}=(0,r.cI)(),f=(0,s.useCallback)(async e=>{c(e)},[c]);return(0,s.useEffect)(()=>{f(i)},[i,f]),(0,a.jsx)("div",{className:"max-w-full admin-item-edit-form",children:(0,a.jsxs)("form",{className:"flex flex-col",onSubmit:m(e=>n(e)),children:[(0,a.jsxs)("div",{className:"flex justify-between items-center pb-5",children:[(0,a.jsxs)("h1",{className:"admin-item-edit-form-title",children:[" ",t," Item"]}),(0,a.jsx)("input",{className:"admin-button",type:"submit"})]}),(0,a.jsx)(l.Z,{type:"input",defaultValue:i.title,label:"Game Title",fieldName:"title",errors:o.title,register:u}),(0,a.jsx)(l.Z,{type:"textarea",defaultValue:i.description,label:"Description",fieldName:"description",errors:o.description,register:u}),(0,a.jsx)(l.Z,{type:"input",defaultValue:i.image,label:"Image",fieldName:"image",errors:o.image,register:u}),(0,a.jsx)(l.Z,{type:"input",defaultValue:i.thumbnail,label:"Thumbnail",fieldName:"thumbnail",errors:o.thumbnail,register:u}),(0,a.jsx)(l.Z,{type:"input",defaultValue:i.minPlayers,label:"Minimum Players",fieldName:"minPlayers",errors:o.minPlayers,register:u}),(0,a.jsx)(l.Z,{type:"input",defaultValue:i.maxPlayers,label:"Maximum Players",fieldName:"maxPlayers",errors:o.maxPlayers,register:u}),(0,a.jsx)(l.Z,{type:"input",defaultValue:i.playingTime,label:"Playing Time",fieldName:"playingTime",errors:o.playingTime,register:u}),(0,a.jsx)(l.Z,{type:"input",defaultValue:i.yearPublished,label:"Year Published",fieldName:"yearPublished",errors:o.yearPublished,register:u}),(0,a.jsx)(l.Z,{type:"input",defaultValue:i.price,label:"Price",fieldName:"price",errors:o.price,register:u}),(0,a.jsx)(l.Z,{type:"input",defaultValue:i.quantity,label:"Quantity",fieldName:"quantity",errors:o.quantity,register:u})]})})}},5811:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return d}});var a=i(7437),r=i(2265),s=i(4292),l=i(5696),n=i(682),u=i(8472),m=i(6463);function d(e){let{params:t}=e,[i,d]=(0,r.useState)(n.u),[c,o]=(0,r.useState)(""),f=(0,m.useRouter)(),p=async e=>{try{await u.Z.post("https://board-backend-b9tn.onrender.com/games/create",{params:{...e}}),f.push("/admin/items")}catch(e){500===e.response.status&&o(e.response.data)}};return(0,r.useEffect)(()=>{(async function(){let e=await fetch("https://boardgamegeek.com/xmlapi2/thing?id=".concat(t.slug)),i=await e.text();new window.DOMParser().parseFromString(i,"text/xml"),d(function(e){let t=JSON.parse(e);return{title:t.items.item.name[0]._attributes.value,description:t.items.item.description._text,image:t.items.item.image._text,maxPlayers:t.items.item.maxplayers._attributes.value,minPlayers:t.items.item.minplayers._attributes.value,playingTime:t.items.item.playingtime._attributes.value,thumbnail:t.items.item.thumbnail._text,yearPublished:t.items.item.yearpublished._attributes.value,_id:"new",price:0,quantity:0}}((0,s.xml2json)(i,{compact:!0,spaces:4})))})()},[t.slug]),(0,a.jsxs)("div",{className:"admin-page",children:[c&&(0,a.jsx)("div",{className:"admin-error",children:c}),(0,a.jsx)(l.Z,{action:"Add",game:i,submitAction:e=>{p(e)}})]})}},682:function(e,t,i){"use strict";i.d(t,{q:function(){return a},u:function(){return r}});let a={_id:"0",title:"Default Category",description:"This is a default category",items:[]},r={_id:"0",title:"Default Game",description:"This is a default game",image:"image url",thumbnail:"image url",minPlayers:0,maxPlayers:4,playingTime:120,yearPublished:2024,price:0,quantity:0}},6463:function(e,t,i){"use strict";var a=i(1169);i.o(a,"useRouter")&&i.d(t,{useRouter:function(){return a.useRouter}})}},function(e){e.O(0,[300,472,343,292,971,23,744],function(){return e(e.s=2868)}),_N_E=e.O()}]);