(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[259],{603:function(e,t,i){Promise.resolve().then(i.bind(i,7335))},8983:function(e,t,i){"use strict";i.d(t,{Z:function(){return s}});var a=i(7437);function s(e){let t,{type:i,defaultValue:s,label:r,fieldName:n,errors:l,register:d}=e;return t="textarea"===i?(0,a.jsx)("textarea",{className:"admin-form-field border-black border-b",defaultValue:s,...d(n,{required:!0})}):(0,a.jsx)("input",{className:"admin-form-field border-black border-b",defaultValue:s,...d(n,{required:!0})}),(0,a.jsxs)("div",{className:"flex flex-col mb-3",children:[(0,a.jsx)("label",{className:"admin-form-field-title",children:r}),t,l&&(0,a.jsx)("span",{children:"This field is required"})]})}},5696:function(e,t,i){"use strict";i.d(t,{Z:function(){return l}});var a=i(7437),s=i(9343),r=i(2265),n=i(8983);function l(e){let{action:t,game:i,submitAction:l}=e,{register:d,handleSubmit:c,watch:u,reset:m,formState:{errors:o}}=(0,s.cI)(),f=(0,r.useCallback)(async e=>{m(e)},[m]);return(0,r.useEffect)(()=>{f(i)},[i,f]),(0,a.jsx)("div",{className:"max-w-full admin-item-edit-form",children:(0,a.jsxs)("form",{className:"flex flex-col",onSubmit:c(e=>l(e)),children:[(0,a.jsxs)("div",{className:"flex justify-between items-center pb-5",children:[(0,a.jsxs)("h1",{className:"admin-item-edit-form-title",children:[" ",t," Item"]}),(0,a.jsx)("input",{className:"admin-button",type:"submit"})]}),(0,a.jsx)(n.Z,{type:"input",defaultValue:i.title,label:"Game Title",fieldName:"title",errors:o.title,register:d}),(0,a.jsx)(n.Z,{type:"textarea",defaultValue:i.description,label:"Description",fieldName:"description",errors:o.description,register:d}),(0,a.jsx)(n.Z,{type:"input",defaultValue:i.image,label:"Image",fieldName:"image",errors:o.image,register:d}),(0,a.jsx)(n.Z,{type:"input",defaultValue:i.thumbnail,label:"Thumbnail",fieldName:"thumbnail",errors:o.thumbnail,register:d}),(0,a.jsx)(n.Z,{type:"input",defaultValue:i.minPlayers,label:"Minimum Players",fieldName:"minPlayers",errors:o.minPlayers,register:d}),(0,a.jsx)(n.Z,{type:"input",defaultValue:i.maxPlayers,label:"Maximum Players",fieldName:"maxPlayers",errors:o.maxPlayers,register:d}),(0,a.jsx)(n.Z,{type:"input",defaultValue:i.playingTime,label:"Playing Time",fieldName:"playingTime",errors:o.playingTime,register:d}),(0,a.jsx)(n.Z,{type:"input",defaultValue:i.yearPublished,label:"Year Published",fieldName:"yearPublished",errors:o.yearPublished,register:d}),(0,a.jsx)(n.Z,{type:"input",defaultValue:i.price,label:"Price",fieldName:"price",errors:o.price,register:d}),(0,a.jsx)(n.Z,{type:"input",defaultValue:i.quantity,label:"Quantity",fieldName:"quantity",errors:o.quantity,register:d})]})})}},3910:function(e,t,i){"use strict";i.d(t,{Z:function(){return l}});var a=i(7437),s=i(2265),r=i(5696),n=i(8472);function l(e){let{game:t,clickFunction:i,showButtons:l}=e,[d,c]=(0,s.useState)(!1),[u,m]=(0,s.useState)(""),o=async function(){try{await n.Z.delete("https://board-backend-b9tn.onrender.com/games/game/delete/".concat(t._id))}catch(e){500===e.response.status&&m(e.response.data)}};return(0,a.jsxs)("div",{children:[u&&(0,a.jsx)("div",{className:"admin-error",children:u}),(0,a.jsxs)("div",{className:"admin-list-item hover:drop-shadow-lg",children:[(0,a.jsx)("div",{className:"w-24 h-24 overflow-hidden",children:(0,a.jsx)("img",{className:"admin-list-item-image",src:t.thumbnail})}),(0,a.jsxs)("div",{className:"flex flex-col p-2 grow justify-between",children:[(0,a.jsx)("div",{children:(0,a.jsx)("h3",{className:"admin-list-item-title",children:t.title})}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsxs)("p",{className:"admin-list-item-quantity",children:["qty:",t.quantity," ",(0,a.jsxs)("span",{className:"admin-list-item-price",children:["$",t.price]})]})}),l&&(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{className:"admin-button",onClick:()=>{c(!d)},children:"Edit"}),(0,a.jsx)("button",{className:"admin-button",onClick:()=>{o()},children:"Del"})]})]})]})]}),d&&(0,a.jsx)("div",{className:"admin-list-edit-item",children:(0,a.jsx)(r.Z,{action:"Edit",game:t,submitAction:e=>{i(t._id,e)}})})]})}},7335:function(e,t,i){"use strict";i.d(t,{default:function(){return c}});var a=i(7437),s=i(2265),r=i(3910),n=i(4999),l=i(8472),d=i(7138);function c(e){let{gameData:t,gamesError:i}=e,[c,u]=(0,s.useState)([]),[m,o]=(0,s.useState)("");(0,s.useEffect)(()=>{let e=(0,n.ZP)("https://board-backend-b9tn.onrender.com");return e.on("DELETE_GAME",async e=>{u((await l.Z.get("https://board-backend-b9tn.onrender.com/games")).data.data)}),()=>{e.off("disconnect"),e.disconnect()}},[]);let f=async function(e,t){try{await l.Z.put("https://board-backend-b9tn.onrender.com/games/game/update/".concat(e),{params:{...t}}),window.location.reload()}catch(e){if(l.Z.isAxiosError(e)){var i;(null===(i=e.response)||void 0===i?void 0:i.status)===500&&o(e.response.data)}}};return(0,s.useEffect)(()=>{u(t),o(i)},[t,i]),(0,a.jsxs)("div",{className:"admin-page",children:[m&&(0,a.jsx)("div",{className:"admin-error",children:m}),(0,a.jsx)("h1",{className:"admin-title",children:"Items"}),(0,a.jsx)(d.default,{href:"/admin/items/add",children:(0,a.jsx)("button",{className:"admin-button mt-3",children:"Add Item"})}),(0,a.jsx)("div",{children:c.map(e=>(0,a.jsx)(r.Z,{showButtons:!0,game:e,clickFunction:(e,t)=>{f(e,t)}},e._id))})]})}},7138:function(e,t,i){"use strict";i.d(t,{default:function(){return s.a}});var a=i(231),s=i.n(a)}},function(e){e.O(0,[231,300,472,343,999,971,23,744],function(){return e(e.s=603)}),_N_E=e.O()}]);