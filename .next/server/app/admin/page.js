(()=>{var e={};e.id=3,e.ids=[3],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},3262:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>o}),s(9163),s(6754),s(2406),s(5866);var r=s(3191),a=s(8716),i=s(7922),n=s.n(i),d=s(5231),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);s.d(t,l);let o=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9163)),"/home/strypeez/projects/projects2024/store-project/store-next/app/admin/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,6754)),"/home/strypeez/projects/projects2024/store-project/store-next/app/admin/layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,2406)),"/home/strypeez/projects/projects2024/store-project/store-next/app/admin/loading.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/strypeez/projects/projects2024/store-project/store-next/app/admin/page.tsx"],m="/admin/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},9259:(e,t,s)=>{Promise.resolve().then(s.bind(s,9646)),Promise.resolve().then(s.bind(s,9317)),Promise.resolve().then(s.bind(s,5286))},8784:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},7661:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,9404,23))},5303:()=>{},7592:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var r=s(326),a=s(7577),i=s(4728),n=s(434),d=s(4099);function l({category:e}){let[t,s]=(0,a.useState)([]),[l,o]=(0,a.useState)(""),c=async function(){try{await d.Z.delete(`https://board-backend-b9tn.onrender.com/categories/category/${e._id}`)}catch(e){500===e.response.status&&o(e.response.data)}};return(0,r.jsxs)("div",{className:"admin-category-item",children:[l&&r.jsx("div",{className:"admin-error",children:l}),r.jsx("h2",{className:"admin-category-item-title",children:e.title}),r.jsx("p",{className:"admin-category-item-subtitle",children:e.description}),r.jsx(n.default,{href:`/admin/categories/edit/${e._id}`,children:r.jsx("button",{className:"admin-button",children:"Edit"})}),r.jsx("button",{className:"admin-button",onClick:()=>{c()},children:"Delete"}),r.jsx("h2",{className:"admin-category-item-title font-bold mt-3",children:"Games"}),r.jsx("div",{children:t.map(e=>r.jsx(i.Z,{game:e,showButtons:!1,clickFunction:()=>{}},e._id))})]})}},9646:(e,t,s)=>{"use strict";s.d(t,{default:()=>d});var r=s(326),a=s(7577),i=s(7592),n=s(434);function d({catDashData:e,catError:t}){let[s,d]=(0,a.useState)([]),[l,o]=(0,a.useState)("");return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"admin-dashboard-header",children:[r.jsx("h2",{children:"Categories"}),r.jsx(n.default,{href:"/admin/categories",children:r.jsx("p",{children:"See More"})})]}),(0,r.jsxs)("div",{className:"admin-dashboard-body",children:[l&&r.jsx("div",{className:"admin-error",children:l},"error"),s.map(e=>r.jsx(i.Z,{category:e},e.id)).slice(0,3)]})]})}},2066:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(326);function a({type:e,defaultValue:t,label:s,fieldName:a,errors:i,register:n}){let d;return d="textarea"===e?r.jsx("textarea",{className:"admin-form-field border-black border-b",defaultValue:t,...n(a,{required:!0})}):r.jsx("input",{className:"admin-form-field border-black border-b",defaultValue:t,...n(a,{required:!0})}),(0,r.jsxs)("div",{className:"flex flex-col mb-3",children:[r.jsx("label",{className:"admin-form-field-title",children:s}),d,i&&r.jsx("span",{children:"This field is required"})]})}},9317:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var r=s(326),a=s(7577),i=s(4099),n=s(4728),d=s(434);function l({gameDashData:e,gameError:t}){let[s,l]=(0,a.useState)([]),[o,c]=(0,a.useState)(""),m=async function(e,t){try{await i.Z.put(`https://board-backend-b9tn.onrender.com/games/game/update/${e}`,{params:{...t}}),window.location.reload()}catch(e){i.Z.isAxiosError(e)&&e.response?.status===500&&c(e.response.data)}};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"admin-dashboard-header",children:[o&&r.jsx("div",{className:"admin-error",children:o}),r.jsx("h2",{children:"Items"}),r.jsx(d.default,{href:"/admin/items",children:r.jsx("p",{children:"See More"})})]}),r.jsx("div",{className:"admin-dashboard-body",children:s.map(e=>r.jsx(n.Z,{showButtons:!0,game:e,clickFunction:(e,t)=>{m(e,t)}},e._id)).slice(0,3)})]})}},83:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var r=s(326),a=s(4723),i=s(7577),n=s(2066);function d({action:e,game:t,submitAction:s}){let{register:d,handleSubmit:l,watch:o,reset:c,formState:{errors:m}}=(0,a.cI)();return(0,i.useCallback)(async e=>{c(e)},[c]),r.jsx("div",{className:"max-w-full admin-item-edit-form",children:(0,r.jsxs)("form",{className:"flex flex-col",onSubmit:l(e=>s(e)),children:[(0,r.jsxs)("div",{className:"flex justify-between items-center pb-5",children:[(0,r.jsxs)("h1",{className:"admin-item-edit-form-title",children:[" ",e," Item"]}),r.jsx("input",{className:"admin-button",type:"submit"})]}),r.jsx(n.Z,{type:"input",defaultValue:t.title,label:"Game Title",fieldName:"title",errors:m.title,register:d}),r.jsx(n.Z,{type:"textarea",defaultValue:t.description,label:"Description",fieldName:"description",errors:m.description,register:d}),r.jsx(n.Z,{type:"input",defaultValue:t.image,label:"Image",fieldName:"image",errors:m.image,register:d}),r.jsx(n.Z,{type:"input",defaultValue:t.thumbnail,label:"Thumbnail",fieldName:"thumbnail",errors:m.thumbnail,register:d}),r.jsx(n.Z,{type:"input",defaultValue:t.minPlayers,label:"Minimum Players",fieldName:"minPlayers",errors:m.minPlayers,register:d}),r.jsx(n.Z,{type:"input",defaultValue:t.maxPlayers,label:"Maximum Players",fieldName:"maxPlayers",errors:m.maxPlayers,register:d}),r.jsx(n.Z,{type:"input",defaultValue:t.playingTime,label:"Playing Time",fieldName:"playingTime",errors:m.playingTime,register:d}),r.jsx(n.Z,{type:"input",defaultValue:t.yearPublished,label:"Year Published",fieldName:"yearPublished",errors:m.yearPublished,register:d}),r.jsx(n.Z,{type:"input",defaultValue:t.price,label:"Price",fieldName:"price",errors:m.price,register:d}),r.jsx(n.Z,{type:"input",defaultValue:t.quantity,label:"Quantity",fieldName:"quantity",errors:m.quantity,register:d})]})})}},5286:(e,t,s)=>{"use strict";s.d(t,{default:()=>d});var r=s(326),a=s(7577),i=s(8532),n=s(434);function d({orderDashData:e,orderError:t,orderGamesData:s}){let[d,l]=(0,a.useState)([]),[o,c]=(0,a.useState)({}),[m,u]=(0,a.useState)("");return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"admin-dashboard-header",children:[r.jsx("h2",{children:"Orders"}),r.jsx(n.default,{href:"/admin/orders",children:r.jsx("p",{children:"See More"})})]}),(0,r.jsxs)("div",{className:"admin-dashboard-body",children:[m&&r.jsx("div",{className:"admin-error",children:m}),d.map(e=>r.jsx(i.Z,{games:o,order:e},e._id)).slice(0,3)]})]})}},4728:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var r=s(326),a=s(7577),i=s(83),n=s(4099);function d({game:e,clickFunction:t,showButtons:s}){let[d,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)(""),m=async function(){try{await n.Z.delete(`https://board-backend-b9tn.onrender.com/games/game/delete/${e._id}`)}catch(e){500===e.response.status&&c(e.response.data)}};return(0,r.jsxs)("div",{children:[o&&r.jsx("div",{className:"admin-error",children:o}),(0,r.jsxs)("div",{className:"admin-list-item hover:drop-shadow-lg",children:[r.jsx("div",{className:"w-24 h-24 overflow-hidden",children:r.jsx("img",{className:"admin-list-item-image",src:e.thumbnail})}),(0,r.jsxs)("div",{className:"flex flex-col p-2 grow justify-between",children:[r.jsx("div",{children:r.jsx("h3",{className:"admin-list-item-title",children:e.title})}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("div",{className:"flex items-end",children:(0,r.jsxs)("p",{className:"admin-list-item-quantity",children:["qty:",e.quantity," ",(0,r.jsxs)("span",{className:"admin-list-item-price",children:["$",e.price]})]})}),s&&(0,r.jsxs)("div",{children:[r.jsx("button",{className:"admin-button",onClick:()=>{l(!d)},children:"Edit"}),r.jsx("button",{className:"admin-button",onClick:()=>{m()},children:"Del"})]})]})]})]}),d&&r.jsx("div",{className:"admin-list-edit-item",children:r.jsx(i.Z,{action:"Edit",game:e,submitAction:s=>{t(e._id,s)}})})]})}},8532:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var r=s(326);function a({item:e,quantity:t}){return(0,r.jsxs)("div",{className:"flex mt-3",children:[r.jsx("img",{className:"w-16 h-16",src:e.thumbnail}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 grow",children:[r.jsx("h3",{className:"grow text-base-red font-bold",children:e.title}),(0,r.jsxs)("p",{className:"text-sm font-bold admin-order-quantity",children:["x",t]})]})]})}var i=s(7577),n=s(4099);function d({order:e,games:t}){let[s,d]=(0,i.useState)(!1),[l,o]=(0,i.useState)(""),c=async function(){let s=e.cart.map(e=>({...e,oldQuantity:t[e.item].quantity}));try{await n.Z.put(`https://board-backend-b9tn.onrender.com/orders/order/cancel/${e._id}`,{cart:s,newOrder:{...e,state:"Cancelled"}})}catch(e){500===e.response.status&&o(e.response.data)}},m=async function(t){try{await n.Z.put(`https://board-backend-b9tn.onrender.com/orders/order/${e._id}`,{newOrder:t})}catch(e){500===e.response.status&&o(e.response.data)}};return(0,r.jsxs)("div",{children:[l&&r.jsx("div",{className:"admin-error",children:l}),(0,r.jsxs)("div",{className:"admin-order hover:drop-shadow-lg",children:[(0,r.jsxs)("div",{onClick:()=>{d(!s)},children:[r.jsx("div",{className:"admin-order-title",children:"Order No."}),(0,r.jsxs)("div",{className:"admin-order-number",children:[" ",e._id]})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"admin-order-state",children:"Order State"}),(0,r.jsxs)("select",{className:"admin-order-state-select",disabled:"Cancelled"===e.state,onChange:t=>{"Cancelled"===t.target.value?c():m({...e,state:t.target.value})},defaultValue:e.state,children:[r.jsx("option",{value:"Preparing",children:"Preparing"}),r.jsx("option",{value:"Ready",children:"Ready"}),r.jsx("option",{value:"Cancelled",children:"Cancelled"}),r.jsx("option",{value:"Fulfilled",children:"Fulfilled"})]})]})]}),s&&(0,r.jsxs)("div",{className:"admin-order-items",children:[r.jsx("h2",{className:"admin-order-title font-bold",children:"Order Items"}),r.jsx("div",{children:e.cart.map(e=>r.jsx(a,{quantity:e.quantity,item:t[e.item]},e.item))})]})]})}},434:(e,t,s)=>{"use strict";s.d(t,{default:()=>a.a});var r=s(9404),a=s.n(r)},6754:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d,metadata:()=>n});var r=s(9510);s(3440);var a=s(7371);function i(){return(0,r.jsxs)("div",{className:"admin-header p-5 flex w-full",children:[r.jsx(a.default,{href:"/admin",children:r.jsx("p",{className:"admin-logo",children:"Admin"})}),(0,r.jsxs)("div",{className:"flex",children:[r.jsx(a.default,{href:"/admin/items",children:r.jsx("p",{className:"admin-nav ml-2",children:"Items"})}),r.jsx(a.default,{href:"/admin/carousel",children:r.jsx("p",{className:"admin-nav ml-2",children:"Carousel"})}),r.jsx(a.default,{href:"/admin/categories",children:r.jsx("p",{className:"admin-nav ml-2",children:"Categories"})}),r.jsx(a.default,{href:"/admin/orders",children:r.jsx("p",{className:"admin-nav ml-2",children:"Orders"})})]})]})}let n={title:"Create Next App",description:"Generated by create next app"};function d({children:e}){return r.jsx("html",{lang:"en",children:(0,r.jsxs)("body",{className:"flex flex-col items-center",children:[r.jsx(i,{}),e]})})}},2406:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(9510);function a(){return r.jsx("div",{className:"admin-loading",children:"Loading Dashboard..."})}},9163:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var r=s(9510),a=s(8570);let i=(0,a.createProxy)(String.raw`/home/strypeez/projects/projects2024/store-project/store-next/app/admin/components/gameDashboard.tsx`),{__esModule:n,$$typeof:d}=i;i.default;let l=(0,a.createProxy)(String.raw`/home/strypeez/projects/projects2024/store-project/store-next/app/admin/components/gameDashboard.tsx#default`),o=(0,a.createProxy)(String.raw`/home/strypeez/projects/projects2024/store-project/store-next/app/admin/components/categoryDashboard.tsx`),{__esModule:c,$$typeof:m}=o;o.default;let u=(0,a.createProxy)(String.raw`/home/strypeez/projects/projects2024/store-project/store-next/app/admin/components/categoryDashboard.tsx#default`),p=(0,a.createProxy)(String.raw`/home/strypeez/projects/projects2024/store-project/store-next/app/admin/components/orderDashboard.tsx`),{__esModule:x,$$typeof:h}=p;p.default;let j=(0,a.createProxy)(String.raw`/home/strypeez/projects/projects2024/store-project/store-next/app/admin/components/orderDashboard.tsx#default`);var f=s(9712);async function b(){let e,t,s,a,i,n,d;try{e=(await f.Z.get("https://board-backend-b9tn.onrender.com/games")).data.data}catch(e){f.Z.isAxiosError(e)&&e.response?.status===500&&(t=e.response.data)}try{s=(await f.Z.get("https://board-backend-b9tn.onrender.com/categories/")).data.data}catch(e){f.Z.isAxiosError(e)&&e.response?.status===500&&(a=e.response.data)}try{let e=(i=(await f.Z.get("https://board-backend-b9tn.onrender.com/orders/")).data.data).reduce((e,t)=>(t.cart.forEach(t=>{e.add(t.item)}),e),new Set),t=await f.Z.post("https://board-backend-b9tn.onrender.com/games/list",{items:Array.from(e)}),s={};t.data.data.forEach(e=>{s[e._id]=e}),d=s}catch(e){f.Z.isAxiosError(e)&&e.response?.status===500&&(n=e.response.data)}return(0,r.jsxs)("main",{className:"admin-page",children:[r.jsx("h1",{className:"admin-title",children:"Dashboard"}),r.jsx(l,{gameDashData:e,gameError:t}),r.jsx(u,{catDashData:s,catError:a}),r.jsx(j,{orderDashData:i,orderError:n,orderGamesData:d})]})}},7481:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(6621);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},3440:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,471,838,712,99,853],()=>s(3262));module.exports=r})();